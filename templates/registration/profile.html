{% extends "base_auth.html" %}
{% block title %}–ü—Ä–æ—Ñ—ñ–ª—å{% endblock %}

{% block content %}
<h2>–ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h2>

<div id="profile-display">
  {% if profile.avatar %}
    <img src="{{ profile.avatar.url }}" alt="Avatar" class="img-thumbnail mb-3" style="max-width: 150px;">
  {% endif %}
  <p><strong>–Ü–º'—è:</strong> {{ request.user.first_name }}</p>
  <p><strong>–ü—Ä—ñ–∑–≤–∏—â–µ:</strong> {{ request.user.last_name }}</p>
  <p><strong>–õ–æ–≥—ñ–Ω:</strong> {{ request.user.username }}</p>
  <p><strong>Email:</strong> {{ request.user.email }}</p>
  <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ profile.phone }}</p>
  <p><strong>–ë—ñ–æ:</strong> {{ profile.bio }}</p>
  <p><strong>–†–æ–ª—å:</strong> {{ profile.get_role_display }}</p>
  <button class="btn btn-main mt-3" onclick="toggleEdit(true)">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
</div>

<div id="profile-edit" style="display: none;">
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-main mt-3">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
    <button type="button" class="btn btn-secondary mt-2" onclick="toggleEdit(false)">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
  </form>
</div>

<script>
  function toggleEdit(showEdit) {
    document.getElementById("profile-display").style.display = showEdit ? "none" : "block";
    document.getElementById("profile-edit").style.display = showEdit ? "block" : "none";
  }
</script>
{% endblock %}