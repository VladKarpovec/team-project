{% extends "base.html" %}
{% block title %}{{ survey.title }}{% endblock %}

{% block content %}
<h2 class="mb-4">{{ survey.title }}</h2>
<p class="text-muted">{{ survey.description }}</p>

<form method="post">
    {% csrf_token %}
    {% for question in questions %}
        <div class="mb-4">
            <label class="form-label fw-bold">{{ question.text }}</label>

            {% if question.question_type == "text" %}
                <textarea name="{{ question.id }}" class="form-control" required></textarea>

            {% elif question.question_type == "radio" %}
                {% for choice in question.choices.all %}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="{{ question.id }}" value="{{ choice.text }}" required>
                        <label class="form-check-label">{{ choice.text }}</label>
                    </div>
                {% endfor %}

            {% elif question.question_type == "checkbox" %}
                {% for choice in question.choices.all %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="{{ question.id }}_{{ forloop.counter }}" value="{{ choice.text }}">
                        <label class="form-check-label">{{ choice.text }}</label>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    {% endfor %}

    <button type="submit" class="btn btn-primary">Зберегти відповіді</button>
</form>
{% endblock %}