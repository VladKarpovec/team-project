{% extends 'base.html' %}
{% block title %}Forum{% endblock %}

{% block content %}
<div class="container my-4">
    <div class="row justify-content-between">
        <h1 class="mb-4">Forum</h1>
        <main class="col-md-9">
            {% for thread in threads %}
                <div class="card mb-3">
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2 text-muted">
                            {{ thread.posts.first.author.username }}
                        </h6>
                        <h4 class="card-title">{{ thread.title }}</h4>
                        {% comment %}
                            {% for tag in thread %}
                                <span class="badge bg-secondary">{{ tag.name }}</span>
                            {% endfor %}
                        {% endcomment %}
                        <p class="card-text">
                            {{ thread.posts.first.content|truncatewords:30 }}
                        </p>
                    </div>
                    <div class="card-footer">
                        <p class="card-text mb-1">
                            <small class="text-muted">
                                Created: {{ thread.created_at|date:"d.m.Y" }}
                            </small><br>
                            <small class="text-muted">
                                Updated: {{ thread.updated_at|date:"d.m.Y" }}
                            </small>
                        </p>
                        <p class="card-text">
                            {{ thread.posts.count }} Comments
                        </p>
                        <a href="{% url 'forum:thread' thread.id %}" class="btn btn-primary">View Thread</a>
                    </div>
                </div>
            {% endfor %}
        </main>

        <aside class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <button class="w-100 mb-3">Start New Discussion</button>
                    <p class="text-muted small">Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti soluta, quam minus temporibus et incidunt impedit obcaecati adipisci corporis dolorem voluptates odit recusandae sunt earum distinctio eum quas iure, aliquid magnam similique rerum? Laboriosam voluptatem asperiores molestiae voluptate officiis laudantium corporis deserunt maxime alias eaque amet id error quisquam reiciendis ipsam, quasi non, possimus quo. Ducimus nisi veritatis ratione cupiditate doloribus dicta expedita quos quae quia corporis ab itaque, fuga vel numquam dignissimos eaque obcaecati blanditiis esse harum? Praesentium adipisci maxime itaque veniam sed odit modi vero sapiente obcaecati blanditiis inventore consequuntur corporis, quisquam, numquam quaerat reprehenderit perspiciatis beatae voluptatum! Ullam eaque quaerat cumque tempore et voluptatibus veniam possimus obcaecati a impedit architecto odit ea animi vel harum fugiat, sequi excepturi inventore assumenda aut dicta, quae labore ut unde! Architecto eum velit soluta perspiciatis excepturi doloribus minus dolor esse odit?</p>
                </div>
            </div>
        </aside>
    </div>
</div>
{% endblock %}
